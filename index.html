<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>å­—æ¯Aaè¾¨éŸ³æ¸¸æˆ</title>
    <style>
        body {
            font-family: 'Comic Sans MS', cursive;
            margin: 0;
            padding: 20px;
            background: #f0f9ff;
        }

        .container {
            display: grid;
            grid-template-rows: auto 1fr;
            height: 90vh;
            gap: 15px;
        }

        header {
            text-align: center;
            color: #2196F3;
            font-size: 2em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .status-bar {
            text-align: center;
            font-size: 1.3em;
            color: #d50000;
            margin-bottom: 15px;
        }

        .game-area {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            border-top: 3px solid #FF9800;
            padding-top: 20px;
        }

        .word-list {
            display: flex;
            justify-content: center;
            gap: 20px;
            padding: 20px;
            background: #fff;
            border-radius: 15px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            min-height: 100px;
            flex-wrap: wrap;
        }

        .drop-zone {
            padding: 20px;
            background: #fff3e0;
            border-radius: 15px;
            min-height: 300px;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.1);
            position: relative;
        }

        .drop-zone::before {
            content: attr(data-label);
            position: absolute;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            background: #fff;
            padding: 5px 15px;
            border-radius: 15px;
            font-weight: bold;
            color: #FF5722;
        }

        .word-item {
            padding: 10px 20px;
            background: #b3e5fc;
            border-radius: 30px;
            cursor: move;
            border: 2px solid #03A9F4;
            font-size: 1.1em;
            transition: transform 0.2s;
            position: relative;
        }

        .word-item:hover {
            transform: scale(1.05);
        }

        .highlight {
            color: #d50000;
            text-decoration: underline;
            font-weight: bold;
        }

        .controls {
            text-align: center;
            margin-top: 20px;
        }

        button {
            padding: 15px 40px;
            font-size: 1.2em;
            background: #FF9800;
            border: none;
            border-radius: 30px;
            color: white;
            cursor: pointer;
            margin: 0 15px;
            transition: all 0.3s;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        button:hover {
            background: #FB8C00;
            transform: translateY(-2px);
        }

        .feedback {
            position: absolute;
            right: -30px;
            font-size: 1.5em;
        }
    </style>
</head>
<body>
    <header>å­—æ¯Aaè¾¨éŸ³æ¸¸æˆï¼Œä½ æ¥æŒ‘æˆ˜ï¼</header>
    <div class="status-bar">â³ å‰©ä½™æ—¶é—´ï¼š<span id="time">20</span>ç§’ | ğŸ’° å½“å‰å¾—åˆ†ï¼š<span id="score">0</span>åˆ†</div>
    
    <div class="container">
        <div class="word-list" id="wordList"></div>
        <div class="game-area">
            <div class="drop-zone" id="sameZone" data-label="ç›¸åŒå‘éŸ³åŒº"></div>
            <div class="drop-zone" id="diffZone" data-label="ä¸åŒå‘éŸ³åŒº"></div>
        </div>
    </div>

    <div class="controls">
        <button onclick="startGame()">å¼€å§‹æ¸¸æˆ</button>
        <button onclick="checkAnswers()">æäº¤ç­”æ¡ˆ</button>
    </div>

    <script>
        // å¢å¼ºç‰ˆå•è¯åº“ï¼ˆæŒ‰æ¨¡å¼åˆ†ç»„ï¼‰
        const wordGroups = {
            a: [
                { word: "dance", sound: "same" },
                { word: "class", sound: "same" },
                { word: "after", sound: "same" },
                { word: "plant", sound: "same" },
                { word: "last", sound: "same" }
            ],
            ay: [
                { word: "day", sound: "same" },
                { word: "play", sound: "same" },
                { word: "say", sound: "same" }
            ],
            ar: [
                { word: "park", sound: "different" },
                { word: "start", sound: "different" }
            ],
            ea: [
                { word: "eat", sound: "same" },
                { word: "clean", sound: "same" },
                { word: "teach", sound: "same" }
            ],
            al: [
                { word: "walk", sound: "different" }
            ]
        };

        let currentPattern = '';
        let currentWords = [];
        let score = 0;
        let timeLeft = 20;
        let timerId;
        let isPlaying = false;

        // é«˜äº®å½“å‰æ¨¡å¼
        function highlightPattern(word, pattern) {
            const regex = new RegExp(`(${pattern})`, "i");
            return word.replace(regex, '<span class="highlight">$1</span>');
        }

        // åˆ›å»ºå•è¯å…ƒç´ 
        function createWordItem(wordObj) {
            const div = document.createElement('div');
            div.className = 'word-item';
            div.draggable = true;
            div.innerHTML = highlightPattern(wordObj.word, currentPattern);
            div.dataset.correct = wordObj.sound;
            div.dataset.pattern = currentPattern;
            
            div.addEventListener('dragstart', handleDragStart);
            div.addEventListener('mouseenter', () => speakWord(wordObj.word));
            return div;
        }

        // å¼€å§‹æ¸¸æˆ
        function startGame() {
            if (isPlaying) return;
            isPlaying = true;
            score = 0;
            timeLeft = 20;
            document.getElementById('score').textContent = score;
            
            // æ¸…ç©ºåŒºåŸŸ
            document.getElementById('wordList').innerHTML = '';
            document.getElementById('sameZone').innerHTML = '';
            document.getElementById('diffZone').innerHTML = '';

            // éšæœºé€‰æ‹©æ¨¡å¼
            const patterns = Object.keys(wordGroups);
            currentPattern = patterns[Math.floor(Math.random() * patterns.length)];
            
            // è·å–å½“å‰æ¨¡å¼çš„å•è¯å¹¶éšæœºé€‰æ‹©5ä¸ª
            currentWords = [...wordGroups[currentPattern]]
                .sort(() => 0.5 - Math.random())
                .slice(0, 5);

            currentWords.forEach(word => {
                document.getElementById('wordList').appendChild(createWordItem(word));
            });

            startTimer();
        }

        // å¯åŠ¨è®¡æ—¶å™¨
        function startTimer() {
            clearInterval(timerId);
            document.getElementById('time').textContent = timeLeft;
            
            timerId = setInterval(() => {
                timeLeft--;
                document.getElementById('time').textContent = timeLeft;
                
                if (timeLeft <= 0) {
                    clearInterval(timerId);
                    isPlaying = false;
                    checkAnswers();
                }
            }, 1000);
        }

        // å¤„ç†æ‹–æ‹½é€»è¾‘
        function handleDragStart(e) {
            e.dataTransfer.setData("text/plain", e.target.dataset.correct);
        }

        // å¤„ç†æ”¾ç½®é€»è¾‘
        document.querySelectorAll('.drop-zone').forEach(zone => {
            zone.addEventListener('dragover', e => e.preventDefault());
            
            zone.addEventListener('drop', e => {
                e.preventDefault();
                const correctType = e.dataTransfer.getData("text/plain");
                const draggedItem = document.querySelector('[draggable="true"]:active');
                
                if (!draggedItem) return;
                
                // å…‹éš†å¹¶ç¦ç”¨æ‹–åŠ¨
                const clone = draggedItem.cloneNode(true);
                clone.draggable = false;
                clone.style.cursor = 'default';
                clone.style.opacity = '0.8';
                
                // æ·»åŠ åˆ°ç›®æ ‡åŒºåŸŸ
                zone.appendChild(clone);
                
                // ä»åŸåˆ—è¡¨ç§»é™¤
                draggedItem.parentNode.removeChild(draggedItem);
                
                // æ›´æ–°å¾—åˆ†
                const isCorrect = (zone.id === 'sameZone' && correctType === 'same') || 
                                 (zone.id === 'diffZone' && correctType === 'different');
                score += isCorrect ? 20 : -20;
                document.getElementById('score').textContent = Math.max(0, score);
            });
        });

        // æ£€æŸ¥ç­”æ¡ˆ
        function checkAnswers() {
            clearInterval(timerId);
            isPlaying = false;
            
            document.querySelectorAll('.word-item').forEach(item => {
                const feedback = document.createElement('span');
                feedback.className = 'feedback';
                feedback.textContent = item.parentElement?.id === 
                    (item.dataset.correct === 'same' ? 'sameZone' : 'diffZone') ? 'âœ…' : 'âŒ';
                item.appendChild(feedback);
            });
        }

        // æœ—è¯»å•è¯
        function speakWord(word) {
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(word);
                utterance.lang = 'en-US';
                window.speechSynthesis.speak(utterance);
            }
        }
    </script>
</body>
</html>